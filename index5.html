<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÛŒØ±Øª Ø§Ù„Ù†Ø¨ÛŒ ï·º - Ø¬Ø§Ù…Ø¹ Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ© ØªØ§Ø±ÛŒØ®</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c5e1a;
            --secondary-color: #5a3921;
            --accent-color: #d4af37;
            --light-bg: #f8f4e9;
            --dark-text: #1a1100;
            --timeline-color: var(--primary-color);
            --map-bg: #e8e0d0;
            --highlight-color: #ffeb3b;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Nastaliq Urdu', serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
            direction: rtl;
            overflow-x: hidden;
        }
        
        header {
            background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .container {
            display: flex;
            min-height: calc(100vh - 82px);
        }
        
        .sidebar {
            width: 300px;
            background-color: white;
            border-left: 1px solid #ddd;
            padding: 1.5rem;
            overflow-y: auto;
            box-shadow: -2px 0 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
            z-index: 5;
        }
        
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }
        
        .search-box {
            margin-bottom: 1.5rem;
        }
        
        .search-box input {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Noto Nastaliq Urdu', serif;
            font-size: 1rem;
        }
        
        .filter-section {
            margin-bottom: 1.5rem;
        }
        
        .filter-section h3 {
            margin-bottom: 0.8rem;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .filter-tag {
            background-color: #eee;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .filter-tag:hover, .filter-tag.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .timeline-container {
            position: relative;
            margin: 3rem 0;
            height: 600px;
            overflow: hidden;
            background-color: var(--map-bg);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .timeline {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background-color: var(--timeline-color);
            transform: translateY(-50%);
            z-index: 1;
        }
        
        .timeline-event {
            position: absolute;
            top: 50%;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: var(--accent-color);
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 2;
            transition: all 0.3s ease;
        }
        
        .timeline-event:hover {
            transform: translate(-50%, -50%) scale(1.5);
            box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.3);
        }
        
        .timeline-event.active {
            background-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(44, 94, 26, 0.3);
        }
        
        .timeline-year {
            position: absolute;
            top: 60%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: var(--secondary-color);
        }
        
        .event-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: none;
        }
        
        .event-card.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .event-header {
            background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.2rem 1.5rem;
            position: relative;
        }
        
        .event-title {
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
        }
        
        .event-period {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .event-importance {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--accent-color);
            color: var(--dark-text);
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .event-body {
            padding: 1.5rem;
        }
        
        .event-description {
            margin-bottom: 1.5rem;
        }
        
        .infographic-points {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .infographic-point {
            flex: 1 1 300px;
            background-color: var(--light-bg);
            padding: 1rem;
            border-radius: 6px;
            border-right: 4px solid var(--accent-color);
            position: relative;
        }
        
        .infographic-point::before {
            content: "â€¢";
            color: var(--accent-color);
            font-size: 1.5rem;
            position: absolute;
            right: -10px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .event-details {
            margin-top: 1.5rem;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 0.8rem;
        }
        
        .detail-label {
            font-weight: bold;
            min-width: 120px;
            color: var(--primary-color);
        }
        
        .detail-value {
            flex: 1;
        }
        
        .map-container {
            height: 300px;
            background-color: var(--map-bg);
            border-radius: 8px;
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .map-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            font-size: 1.1rem;
        }
        
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .tag {
            background-color: #e0e0e0;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .narrative-paths {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }
        
        .narrative-path {
            min-width: 200px;
            background: linear-gradient(to left, var(--secondary-color), var(--primary-color));
            color: white;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .narrative-path:hover {
            transform: translateY(-3px);
        }
        
        .narrative-path h3 {
            margin-bottom: 0.5rem;
        }
        
        .narrative-path p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.2rem;
            color: var(--secondary-color);
        }
        
        .no-results {
            text-align: center;
            padding: 2rem;
            color: var(--secondary-color);
            font-size: 1.1rem;
        }
        
        .bookmark-btn {
            background-color: transparent;
            border: none;
            color: var(--accent-color);
            font-size: 1.5rem;
            cursor: pointer;
            position: absolute;
            left: 1.5rem;
            top: 1.2rem;
        }
        
        .bookmark-btn.bookmarked {
            color: #ff5722;
        }
        
        .legend {
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }
        
        .legend h3 {
            margin-bottom: 0.8rem;
            color: var(--primary-color);
        }
        
        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }
        
        .legend-icon {
            font-size: 1.2rem;
        }
        
        .toggle-sidebar {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                transform: translateX(100%);
                position: fixed;
                top: 0;
                bottom: 0;
                right: 0;
                z-index: 20;
                padding-top: 4rem;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .toggle-sidebar {
                display: flex;
            }
            
            .timeline-container {
                height: 400px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .event-title {
                font-size: 1.3rem;
            }
            
            .timeline-container {
                height: 300px;
            }
            
            .infographic-point {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Ø³ÛŒØ±Øª Ø§Ù„Ù†Ø¨ÛŒ ï·º - Ø¬Ø§Ù…Ø¹ Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ© ØªØ§Ø±ÛŒØ®</h1>
        <div class="subtitle">Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º Ú©ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Ø§ Ø¨ØµØ±ÛŒ Ø§ÙˆØ± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÛŒ Ø¬Ø§Ø¦Ø²Û</div>
    </header>
    
    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="ØªÙ„Ø§Ø´ Ú©Ø±ÛŒÚº...">
            </div>
            
            <div class="filter-section">
                <h3>Ø¯ÙˆØ± Ú©Û’ Ù„Ø­Ø§Ø¸ Ø³Û’ ÙÙ„Ù¹Ø± Ú©Ø±ÛŒÚº</h3>
                <div class="filter-options" id="periodFilters">
                    <!-- Period filters will be added dynamically -->
                </div>
            </div>
            
            <div class="filter-section">
                <h3>Ù¹ÛŒÚ¯Ø² Ú©Û’ Ù„Ø­Ø§Ø¸ Ø³Û’ ÙÙ„Ù¹Ø± Ú©Ø±ÛŒÚº</h3>
                <div class="filter-options" id="tagFilters">
                    <!-- Tag filters will be added dynamically -->
                </div>
            </div>
            
            <div class="filter-section">
                <h3>Ø§ÛÙ…ÛŒØª Ú©Û’ Ù„Ø­Ø§Ø¸ Ø³Û’ ÙÙ„Ù¹Ø± Ú©Ø±ÛŒÚº</h3>
                <div class="filter-options" id="importanceFilters">
                    <div class="filter-tag" data-importance="5">Ø§Ù†ØªÛØ§Ø¦ÛŒ Ø§ÛÙ…</div>
                    <div class="filter-tag" data-importance="4">Ø¨ÛØª Ø§ÛÙ…</div>
                    <div class="filter-tag" data-importance="3">Ø§ÛÙ…</div>
                    <div class="filter-tag" data-importance="2">Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø§ÛÙ…ÛŒØª</div>
                    <div class="filter-tag" data-importance="1">Ú©Ù… Ø§ÛÙ…</div>
                </div>
            </div>
            
            <div class="legend">
                <h3>Ù„ÛŒØ¬Ù†Úˆ / Ú©Ù„ÛŒØ¯</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--primary-color);"></div>
                        <span>Ø§ÛÙ… ÙˆØ§Ù‚Ø¹Ø§Øª</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--accent-color);"></div>
                        <span>Ø¯ÙˆØ³Ø±Û’ ÙˆØ§Ù‚Ø¹Ø§Øª</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-icon">â­</span>
                        <span>Ø§ÛÙ…ÛŒØª Ø§Ø³Ú©ÙˆØ±</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-icon">ğŸ“Œ</span>
                        <span>Ù…Ø­ÙÙˆØ¸ Ø´Ø¯Û</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <h2>ØªØ§Ø±ÛŒØ®ÛŒ Ø³ÙØ± Ú©Û’ Ø±Ø§Ø³ØªÛ’</h2>
            <div class="narrative-paths" id="narrativePaths">
                <!-- Narrative paths will be added dynamically -->
            </div>
            
            <h2>ÙˆÙ‚Øª Ú©ÛŒ Ù„Ú©ÛŒØ±</h2>
            <div class="timeline-container">
                <div class="timeline" id="mainTimeline"></div>
                <!-- Timeline events will be added dynamically -->
            </div>
            
            <h2>ÙˆØ§Ù‚Ø¹Ø§Øª</h2>
            <div id="eventsContainer">
                <div class="loading">ÚˆÛŒÙ¹Ø§ Ù„ÙˆÚˆ ÛÙˆ Ø±ÛØ§ ÛÛ’...</div>
            </div>
        </div>
    </div>
    
    <div class="toggle-sidebar" id="toggleSidebar">â˜°</div>
    
    <script>
        // Database and application state
        const dbName = "SeerahDatabase";
        const storeName = "enriched_events";
        let db;
        let events = [];
        let filteredEvents = [];
        let activeEventId = null;
        
        // DOM elements
        const sidebar = document.getElementById('sidebar');
        const toggleSidebar = document.getElementById('toggleSidebar');
        const searchInput = document.getElementById('searchInput');
        const periodFilters = document.getElementById('periodFilters');
        const tagFilters = document.getElementById('tagFilters');
        const importanceFilters = document.getElementById('importanceFilters');
        const narrativePaths = document.getElementById('narrativePaths');
        const mainTimeline = document.getElementById('mainTimeline');
        const eventsContainer = document.getElementById('eventsContainer');
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize IndexedDB
            await initDB();
            
            // Load and display data
            await loadData();
            
            // Set up event listeners
            setupEventListeners();
            
            // Show initial view
            updateUI();
        });
        
        // Initialize IndexedDB
        function initDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(dbName, 1);
                
                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains(storeName)) {
                        const store = db.createObjectStore(storeName, { keyPath: 'Ø´Ù…Ø§Ø±' });
                        store.createIndex('ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±', 'ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±', { unique: false });
                        store.createIndex('Ù¹ÛŒÚ¯Ø²', 'Ù¹ÛŒÚ¯Ø²', { unique: false, multiEntry: true });
                        store.createIndex('Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±', 'Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±', { unique: false });
                    }
                };
                
                request.onsuccess = (event) => {
                    db = event.target.result;
                    resolve();
                };
                
                request.onerror = (event) => {
                    console.error('Database error:', event.target.error);
                    reject(event.target.error);
                };
            });
        }
        
        // Load data from CSV files and merge into IndexedDB
        async function loadData() {
            try {
                // Check if data already exists in IndexedDB
                const count = await getEventCount();
                
                if (count === 0) {
                    // Load initial data
                    const [historyData, detailsData] = await Promise.all([
                        fetchCSV('history.csv'),
                        fetchCSV('details.csv')
                    ]);
                    
                    // Merge data
                    const mergedData = mergeData(historyData, detailsData);
                    
                    // Store in IndexedDB
                    await storeEvents(mergedData);
                } else {
                    // Check for updates
                    const updateData = await fetchCSV('historyupdate.csv');
                    if (updateData && updateData.length > 0) {
                        await storeEvents(updateData);
                    }
                }
                
                // Load all events from IndexedDB
                events = await getAllEvents();
                filteredEvents = [...events];
                
            } catch (error) {
                console.error('Error loading data:', error);
                eventsContainer.innerHTML = `<div class="no-results">ÚˆÛŒÙ¹Ø§ Ù„ÙˆÚˆ Ú©Ø±Ù†Û’ Ù…ÛŒÚº Ù…Ø³Ø¦Ù„Û Ù¾ÛŒØ´ Ø¢ÛŒØ§Û” Ø¨Ø±Ø§Û Ú©Ø±Ù… Ø¨Ø¹Ø¯ Ù…ÛŒÚº Ú©ÙˆØ´Ø´ Ú©Ø±ÛŒÚºÛ”</div>`;
            }
        }
        
        // Fetch CSV file and parse it
        async function fetchCSV(filename) {
            try {
                // In a real implementation, this would fetch actual CSV files
                // For this example, we'll use mock data
                return mockCSVData(filename);
            } catch (error) {
                console.error(`Error fetching ${filename}:`, error);
                return [];
            }
        }
        
        // Merge history and details data
        function mergeData(historyData, detailsData) {
            return historyData.map(historyItem => {
                const detailItem = detailsData.find(d => d.Ø´Ù…Ø§Ø± === historyItem.Ø´Ù…Ø§Ø±);
                return {
                    ...historyItem,
                    ...detailItem
                };
            });
        }
        
        // Store events in IndexedDB
        function storeEvents(events) {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(storeName, 'readwrite');
                const store = transaction.objectStore(storeName);
                
                events.forEach(event => {
                    store.put(event);
                });
                
                transaction.oncomplete = () => resolve();
                transaction.onerror = (event) => reject(event.target.error);
            });
        }
        
        // Get count of events in IndexedDB
        function getEventCount() {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(storeName, 'readonly');
                const store = transaction.objectStore(storeName);
                const request = store.count();
                
                request.onsuccess = () => resolve(request.result);
                request.onerror = (event) => reject(event.target.error);
            });
        }
        
        // Get all events from IndexedDB
        function getAllEvents() {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(storeName, 'readonly');
                const store = transaction.objectStore(storeName);
                const request = store.getAll();
                
                request.onsuccess = () => resolve(request.result);
                request.onerror = (event) => reject(event.target.error);
            });
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Toggle sidebar on mobile
            toggleSidebar.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });
            
            // Search input
            searchInput.addEventListener('input', () => {
                filterEvents();
            });
            
            // Period filters
            periodFilters.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-tag')) {
                    e.target.classList.toggle('active');
                    filterEvents();
                }
            });
            
            // Tag filters
            tagFilters.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-tag')) {
                    e.target.classList.toggle('active');
                    filterEvents();
                }
            });
            
            // Importance filters
            importanceFilters.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-tag')) {
                    e.target.classList.toggle('active');
                    filterEvents();
                }
            });
            
            // Click event on timeline (delegated)
            mainTimeline.addEventListener('click', (e) => {
                if (e.target.classList.contains('timeline-event')) {
                    const eventId = parseInt(e.target.getAttribute('data-event-id'));
                    showEventDetails(eventId);
                }
            });
            
            // Click event on narrative paths (delegated)
            narrativePaths.addEventListener('click', (e) => {
                const pathCard = e.target.closest('.narrative-path');
                if (pathCard) {
                    const pathId = pathCard.getAttribute('data-path-id');
                    filterByNarrativePath(pathId);
                }
            });
        }
        
        // Filter events based on search and filters
        function filterEvents() {
            const searchTerm = searchInput.value.toLowerCase();
            const activePeriods = [...periodFilters.querySelectorAll('.filter-tag.active')].map(el => el.textContent);
            const activeTags = [...tagFilters.querySelectorAll('.filter-tag.active')].map(el => el.textContent);
            const activeImportance = [...importanceFilters.querySelectorAll('.filter-tag.active')].map(el => parseInt(el.getAttribute('data-importance')));
            
            filteredEvents = events.filter(event => {
                // Search term
                if (searchTerm && !(
                    event['ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)'].toLowerCase().includes(searchTerm) ||
                    event['Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)'].toLowerCase().includes(searchTerm) ||
                    event['ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª']?.toLowerCase().includes(searchTerm) ||
                    (event['Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª']?.toLowerCase().includes(searchTerm))) {
                    return false;
                }
                
                // Period filter
                if (activePeriods.length > 0 && !activePeriods.includes(event['ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±'])) {
                    return false;
                }
                
                // Tag filter
                if (activeTags.length > 0) {
                    const eventTags = event['Ù¹ÛŒÚ¯Ø²']?.split(',') || [];
                    if (!activeTags.some(tag => eventTags.includes(tag.trim()))) {
                        return false;
                    }
                }
                
                // Importance filter
                if (activeImportance.length > 0 && !activeImportance.includes(parseInt(event['Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±'] || 0)) {
                    return false;
                }
                
                return true;
            });
            
            updateUI();
        }
        
        // Filter by narrative path
        function filterByNarrativePath(pathId) {
            // In a real implementation, this would filter based on predefined paths
            // For this example, we'll simulate some paths
            switch (pathId) {
                case 'hijrat':
                    filteredEvents = events.filter(event => 
                        event['Ù¹ÛŒÚ¯Ø²']?.includes('ÛØ¬Ø±Øª') || 
                        event['ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)'].includes('ÛØ¬Ø±Øª')
                    );
                    break;
                case 'ghazwat':
                    filteredEvents = events.filter(event => 
                        event['Ù¹ÛŒÚ¯Ø²']?.includes('ØºØ²ÙˆÛ') || 
                        event['ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)'].includes('ØºØ²ÙˆÛ')
                    );
                    break;
                case 'early-life':
                    filteredEvents = events.filter(event => 
                        parseInt(event['ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±'].split(' ')[0]) < 1
                    );
                    break;
                default:
                    filteredEvents = [...events];
            }
            
            updateUI();
        }
        
        // Show details for a specific event
        function showEventDetails(eventId) {
            activeEventId = eventId;
            
            // Highlight the timeline event
            document.querySelectorAll('.timeline-event').forEach(el => {
                el.classList.toggle('active', parseInt(el.getAttribute('data-event-id')) === eventId);
            });
            
            // Scroll to the event card
            const eventCard = document.querySelector(`.event-card[data-event-id="${eventId}"]`);
            if (eventCard) {
                eventCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }
        
        // Update the UI based on current state
        function updateUI() {
            updateFilters();
            updateNarrativePaths();
            updateTimeline();
            updateEventsList();
        }
        
        // Update available filters based on data
        function updateFilters() {
            // Period filters
            const periods = [...new Set(events.map(event => event['ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±']))].sort();
            periodFilters.innerHTML = '';
            periods.forEach(period => {
                const filter = document.createElement('div');
                filter.className = 'filter-tag';
                filter.textContent = period;
                periodFilters.appendChild(filter);
            });
            
            // Tag filters
            const allTags = events.flatMap(event => 
                event['Ù¹ÛŒÚ¯Ø²']?.split(',').map(tag => tag.trim()) || []
            );
            const uniqueTags = [...new Set(allTags)].filter(tag => tag);
            tagFilters.innerHTML = '';
            uniqueTags.forEach(tag => {
                const filter = document.createElement('div');
                filter.className = 'filter-tag';
                filter.textContent = tag;
                tagFilters.appendChild(filter);
            });
        }
        
        // Update narrative paths section
        function updateNarrativePaths() {
            // In a real implementation, these would be predefined paths
            const paths = [
                {
                    id: 'early-life',
                    title: 'Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ',
                    description: 'Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º Ú©ÛŒ ÙˆÙ„Ø§Ø¯Øª Ø³Û’ Ù„Û’ Ú©Ø± Ø¨Ø¹Ø«Øª ØªÚ© Ú©Ø§ Ø³ÙØ±'
                },
                {
                    id: 'hijrat',
                    title: 'ÛØ¬Ø±Øª Ú©Ø§ Ø³ÙØ±',
                    description: 'Ù…Ú©Û Ø³Û’ Ù…Ø¯ÛŒÙ†Û Ú©ÛŒ Ø¬Ø§Ù†Ø¨ ÛØ¬Ø±Øª Ø§ÙˆØ± Ø§Ø³ Ø³Û’ Ù…ØªØ¹Ù„Ù‚Û ÙˆØ§Ù‚Ø¹Ø§Øª'
                },
                {
                    id: 'ghazwat',
                    title: 'ØºØ²ÙˆØ§Øª Ùˆ Ø³Ø±Ø§ÛŒØ§',
                    description: 'Ø¬Ù†Ú¯ÛŒ Ù…ÛÙ…Ø§Øª Ø§ÙˆØ± Ø§ÛÙ… Ù…Ø¹Ø±Ú©Û’'
                },
                {
                    id: 'treaties',
                    title: 'Ø§ÛÙ… Ù…Ø¹Ø§ÛØ¯Û’',
                    description: 'ØµÙ„Ø­ Ø­Ø¯ÛŒØ¨ÛŒÛ Ø§ÙˆØ± Ø¯ÛŒÚ¯Ø± Ø§ÛÙ… Ù…Ø¹Ø§ÛØ¯Ø§Øª'
                }
            ];
            
            narrativePaths.innerHTML = '';
            paths.forEach(path => {
                const pathElement = document.createElement('div');
                pathElement.className = 'narrative-path';
                pathElement.setAttribute('data-path-id', path.id);
                pathElement.innerHTML = `
                    <h3>${path.title}</h3>
                    <p>${path.description}</p>
                `;
                narrativePaths.appendChild(pathElement);
            });
        }
        
        // Update the timeline visualization
        function updateTimeline() {
            if (filteredEvents.length === 0) {
                mainTimeline.innerHTML = '';
                return;
            }
            
            // Extract years for timeline
            const years = filteredEvents.map(event => {
                const yearMatch = event['Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)'].match(/\d+/);
                return yearMatch ? parseInt(yearMatch[0]) : 0;
            });
            
            const minYear = Math.min(...years);
            const maxYear = Math.max(...years);
            const yearRange = maxYear - minYear;
            
            // Clear timeline
            mainTimeline.innerHTML = '';
            
            // Add events to timeline
            filteredEvents.forEach(event => {
                const yearMatch = event['Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)'].match(/\d+/);
                if (!yearMatch) return;
                
                const year = parseInt(yearMatch[0]);
                const position = ((year - minYear) / yearRange) * 100;
                
                const eventElement = document.createElement('div');
                eventElement.className = 'timeline-event';
                eventElement.setAttribute('data-event-id', event.Ø´Ù…Ø§Ø±);
                eventElement.style.left = `${position}%`;
                
                if (event['Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±'] >= 4) {
                    eventElement.style.backgroundColor = 'var(--primary-color)';
                    eventElement.style.width = '20px';
                    eventElement.style.height = '20px';
                }
                
                const yearElement = document.createElement('div');
                yearElement.className = 'timeline-year';
                yearElement.textContent = event['ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±'];
                yearElement.style.left = `${position}%`;
                
                mainTimeline.appendChild(eventElement);
                mainTimeline.appendChild(yearElement);
            });
        }
        
        // Update the events list
        function updateEventsList() {
            if (filteredEvents.length === 0) {
                eventsContainer.innerHTML = '<div class="no-results">Ú©ÙˆØ¦ÛŒ Ù†ØªØ§Ø¦Ø¬ Ù†ÛÛŒÚº Ù…Ù„Û’Û” Ø¨Ø±Ø§Û Ú©Ø±Ù… Ø§Ù¾Ù†Û’ ÙÙ„Ù¹Ø±Ø² Ú©Ùˆ Ø§ÛŒÚˆØ¬Ø³Ù¹ Ú©Ø±ÛŒÚºÛ”</div>';
                return;
            }
            
            eventsContainer.innerHTML = '';
            
            filteredEvents.forEach(event => {
                const eventCard = document.createElement('div');
                eventCard.className = 'event-card';
                if (event.Ø´Ù…Ø§Ø± === activeEventId) {
                    eventCard.classList.add('active');
                }
                eventCard.setAttribute('data-event-id', event.Ø´Ù…Ø§Ø±);
                
                // Parse infographic points
                const infographicPoints = event['Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©']?.split('|').filter(point => point.trim()) || [];
                
                eventCard.innerHTML = `
                    <div class="event-header">
                        <button class="bookmark-btn" data-event-id="${event.Ø´Ù…Ø§Ø±}">ğŸ“Œ</button>
                        <div class="event-title">${event['ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)']}</div>
                        <div class="event-period">${event['ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±']} (${event['Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)']})</div>
                        <div class="event-importance">Ø§ÛÙ…ÛŒØª: ${'â­'.repeat(event['Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±'] || 1)}</div>
                    </div>
                    <div class="event-body">
                        <div class="event-description">
                            <h3>Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„</h3>
                            <p>${event['Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)']}</p>
                        </div>
                        
                        ${infographicPoints.length > 0 ? `
                        <div class="infographic-section">
                            <h3>Ú©Ù„ÛŒØ¯ÛŒ Ù†Ú©Ø§Øª</h3>
                            <div class="infographic-points">
                                ${infographicPoints.map(point => `
                                    <div class="infographic-point">${point}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="event-details">
                            <h3>ØªÙØµÛŒÙ„Ø§Øª</h3>
                            ${event['ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª'] ? `
                            <div class="detail-row">
                                <div class="detail-label">ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª:</div>
                                <div class="detail-value">${event['ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª']}</div>
                            </div>
                            ` : ''}
                            
                            ${event['Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª'] ? `
                            <div class="detail-row">
                                <div class="detail-label">Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª:</div>
                                <div class="detail-value">${event['Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª']}</div>
                            </div>
                            ` : ''}
                            
                            ${event['Ù…Ù‚Ø§Ù…'] ? `
                            <div class="detail-row">
                                <div class="detail-label">Ù…Ù‚Ø§Ù…:</div>
                                <div class="detail-value">${event['Ù…Ù‚Ø§Ù…']}</div>
                            </div>
                            ` : ''}
                            
                            ${event['Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³'] ? `
                            <div class="detail-row">
                                <div class="detail-label">Ù†Ù‚Ø´Û:</div>
                                <div class="detail-value">
                                    <div class="map-container">
                                        <div class="map-placeholder">Ù†Ù‚Ø´Û Ø¯Ú©Ú¾Ø§ÛŒØ§ Ø¬Ø§Ø¦Û’ Ú¯Ø§: ${event['Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³']}</div>
                                    </div>
                                </div>
                            </div>
                            ` : ''}
                            
                            ${event['Ù¹ÛŒÚ¯Ø²'] ? `
                            <div class="detail-row">
                                <div class="detail-label">Ù¹ÛŒÚ¯Ø²:</div>
                                <div class="detail-value">
                                    <div class="tags-container">
                                        ${event['Ù¹ÛŒÚ¯Ø²'].split(',').map(tag => `
                                            <span class="tag">${tag.trim()}</span>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                            ` : ''}
                        </div>
                    </div>
                `;
                
                eventsContainer.appendChild(eventCard);
            });
            
            // Add event listeners to bookmark buttons
            document.querySelectorAll('.bookmark-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    btn.classList.toggle('bookmarked');
                    // In a real implementation, save to localStorage or IndexedDB
                });
            });
            
            // Add click event to event cards to show details
            document.querySelectorAll('.event-card').forEach(card => {
                card.addEventListener('click', () => {
                    const eventId = parseInt(card.getAttribute('data-event-id'));
                    showEventDetails(eventId);
                });
            });
        }
        
        // Mock data for demonstration
        function mockCSVData(filename) {
            if (filename === 'history.csv') {
                return [
                    {
                        "Ø´Ù…Ø§Ø±": 1,
                        "Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)": "570 CE",
                        "ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±": "Ø¹Ø§Ù… Ø§Ù„ÙÛŒÙ„",
                        "ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)": "ÙˆÙ„Ø§Ø¯Øª Ø¨Ø§Ø³Ø¹Ø§Ø¯Øª",
                        "Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)": "Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… Ø­Ø¶Ø±Øª Ù…Ø­Ù…Ø¯ ï·º Ú©ÛŒ Ù…Ú©Û Ù…ÛŒÚº ÙˆÙ„Ø§Ø¯Øª ÛÙˆØ¦ÛŒÛ”"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 2,
                        "Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)": "610 CE",
                        "ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±": "Ø¨Ø¹Ø«Øª Ø³Û’ Ù¾ÛÙ„Û’",
                        "ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)": "Ù¾ÛÙ„ÛŒ ÙˆØ­ÛŒ Ú©Ø§ Ù†Ø²ÙˆÙ„",
                        "Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)": "ØºØ§Ø± Ø­Ø±Ø§ Ù…ÛŒÚº Ù¾ÛÙ„ÛŒ ÙˆØ­ÛŒ Ù†Ø§Ø²Ù„ ÛÙˆØ¦ÛŒ Ø¬Ø³ Ù…ÛŒÚº Ø³ÙˆØ±Û Ø§Ù„Ø¹Ù„Ù‚ Ú©ÛŒ Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒ Ø¢ÛŒØ§Øª Ø´Ø§Ù…Ù„ ØªÚ¾ÛŒÚºÛ”"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 3,
                        "Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)": "622 CE",
                        "ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±": "1 ÛØ¬Ø±ÛŒ",
                        "ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)": "ÛØ¬Ø±Øª Ù…Ø¯ÛŒÙ†Û",
                        "Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)": "Ù…Ø³Ù„Ù…Ø§Ù†ÙˆÚº Ù†Û’ Ù…Ú©Û Ø³Û’ Ù…Ø¯ÛŒÙ†Û Ú©ÛŒ Ø·Ø±Ù ÛØ¬Ø±Øª Ú©ÛŒ Ø¬Ùˆ Ø§Ø³Ù„Ø§Ù…ÛŒ ØªØ§Ø±ÛŒØ® Ú©Ø§ Ø§ÛÙ… Ù…ÙˆÚ‘ ØªÚ¾Ø§Û”"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 4,
                        "Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)": "624 CE",
                        "ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±": "2 ÛØ¬Ø±ÛŒ",
                        "ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)": "ØºØ²ÙˆÛ Ø¨Ø¯Ø±",
                        "Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)": "Ù¾ÛÙ„ÛŒ Ø¨Ú‘ÛŒ Ø¬Ù†Ú¯ Ø¬Ø³ Ù…ÛŒÚº Ù…Ø³Ù„Ù…Ø§Ù†ÙˆÚº Ú©Ùˆ ÙØªØ­ Ø­Ø§ØµÙ„ ÛÙˆØ¦ÛŒÛ”"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 5,
                        "Ø¹ÛŒØ³ÙˆÛŒ Ø³Ø§Ù„ (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹)": "632 CE",
                        "ÛØ¬Ø±ÛŒ Ø³Ø§Ù„ / Ø¯ÙˆØ±": "11 ÛØ¬Ø±ÛŒ",
                        "ÙˆØ§Ù‚Ø¹Û (Ø§Ø±Ø¯Ùˆ)": "ÙˆØµØ§Ù„",
                        "Ù…Ø®ØªØµØ± ØªÙØµÛŒÙ„ (Ø§Ø±Ø¯Ùˆ)": "Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º Ù†Û’ Ù…Ø¯ÛŒÙ†Û Ù…ÛŒÚº ÙˆÙØ§Øª Ù¾Ø§Ø¦ÛŒÛ”"
                    }
                ];
            } else if (filename === 'details.csv') {
                return [
                    {
                        "Ø´Ù…Ø§Ø±": 1,
                        "ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª": "Ø­Ø¶Ø±Øª Ù…Ø­Ù…Ø¯ ï·º Ú©ÛŒ ÙˆÙ„Ø§Ø¯Øª Ù…Ú©Û Ù…ÛŒÚº Ø¨Ù†ÛŒ ÛØ§Ø´Ù… Ú©Û’ Ú¯Ú¾Ø±Ø§Ù†Û’ Ù…ÛŒÚº ÛÙˆØ¦ÛŒÛ” Ø¢Ù¾ Ú©Û’ ÙˆØ§Ù„Ø¯ Ú©Ø§ Ù†Ø§Ù… Ø¹Ø¨Ø¯Ø§Ù„Ù„Û Ø§ÙˆØ± ÙˆØ§Ù„Ø¯Û Ú©Ø§ Ù†Ø§Ù… Ø¢Ù…Ù†Û ØªÚ¾Ø§Û” Ø¢Ù¾ Ú©ÛŒ ÙˆÙ„Ø§Ø¯Øª Ø¹Ø§Ù… Ø§Ù„ÙÛŒÙ„ (ÛØ§ØªÚ¾ÛŒ ÙˆØ§Ù„Ø§ Ø³Ø§Ù„) Ù…ÛŒÚº ÛÙˆØ¦ÛŒ Ø¬Ø¨ Ø§Ø¨Ø±ÛÛ Ù†Û’ Ú©Ø¹Ø¨Û Ù¾Ø± Ø­Ù…Ù„Û Ú©ÛŒØ§ ØªÚ¾Ø§Û”",
                        "Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª": "Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø·Ù„Ø¨, Ø¢Ù…Ù†Û, Ø­Ù„ÛŒÙ…Û Ø³Ø¹Ø¯ÛŒÛ",
                        "Ù…Ù‚Ø§Ù…": "Ù…Ú©Û Ù…Ú©Ø±Ù…Û",
                        "Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³": "21.3891,39.8579",
                        "Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±": "5",
                        "ØªØµÙˆÛŒØ±ÛŒ_Ø­ÙˆØ§Ù„Û": "",
                        "Ù¹ÛŒÚ¯Ø²": "ÙˆÙ„Ø§Ø¯Øª, Ù…Ú©Û, Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ",
                        "Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©": "Ø¹Ø§Ù… Ø§Ù„ÙÛŒÙ„ Ù…ÛŒÚº ÙˆÙ„Ø§Ø¯Øª|ÛŒØªÛŒÙ… Ù¾ÛŒØ¯Ø§ ÛÙˆØ¦Û’|Ø­Ù„ÛŒÙ…Û Ø³Ø¹Ø¯ÛŒÛ Ú©Û’ Ù¾Ø§Ø³ Ù¾Ø±ÙˆØ±Ø´|Ù…Ú©Û Ù…ÛŒÚº Ù¾ÛŒØ¯Ø§Ø¦Ø´"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 2,
                        "ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª": "Ø¬Ø¨ Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º 40 Ø³Ø§Ù„ Ú©Û’ ÛÙˆØ¦Û’ ØªÙˆ ØºØ§Ø± Ø­Ø±Ø§ Ù…ÛŒÚº Ø¬Ø¨Ø±Ø§Ø¦ÛŒÙ„ Ø¹Ù„ÛŒÛ Ø§Ù„Ø³Ù„Ø§Ù… Ù¾ÛÙ„ÛŒ ÙˆØ­ÛŒ Ù„Û’ Ú©Ø± Ø¢Ø¦Û’Û” Ù¾ÛÙ„ÛŒ Ø¢ÛŒØ§Øª Ø³ÙˆØ±Û Ø§Ù„Ø¹Ù„Ù‚ Ú©ÛŒ Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒ Ø¢ÛŒØ§Øª ØªÚ¾ÛŒÚºÛ” Ø§Ø³ Ú©Û’ Ø¨Ø¹Ø¯ ÙˆØ­ÛŒ Ú©Ø§ Ø³Ù„Ø³Ù„Û 23 Ø³Ø§Ù„ ØªÚ© Ø¬Ø§Ø±ÛŒ Ø±ÛØ§Û”",
                        "Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª": "Ø­Ø¶Ø±Øª Ø®Ø¯ÛŒØ¬Û, ÙˆØ±Ù‚Û Ø¨Ù† Ù†ÙˆÙÙ„",
                        "Ù…Ù‚Ø§Ù…": "ØºØ§Ø± Ø­Ø±Ø§, Ù…Ú©Û",
                        "Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³": "21.4575,39.8561",
                        "Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±": "5",
                        "ØªØµÙˆÛŒØ±ÛŒ_Ø­ÙˆØ§Ù„Û": "",
                        "Ù¹ÛŒÚ¯Ø²": "ÙˆØ­ÛŒ, Ù†Ø¨ÙˆØª, ØºØ§Ø± Ø­Ø±Ø§",
                        "Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©": "40 Ø³Ø§Ù„ Ú©ÛŒ Ø¹Ù…Ø± Ù…ÛŒÚº Ù†Ø¨ÙˆØª|Ù¾ÛÙ„ÛŒ ÙˆØ­ÛŒ Ø³ÙˆØ±Û Ø§Ù„Ø¹Ù„Ù‚|Ø­Ø¶Ø±Øª Ø®Ø¯ÛŒØ¬Û Ú©Ø§ Ø³Ø§ØªÚ¾|ÙˆØ±Ù‚Û Ø¨Ù† Ù†ÙˆÙÙ„ Ú©ÛŒ Ù¾ÛŒØ´Ú¯ÙˆØ¦ÛŒ"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 3,
                        "ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª": "Ù…Ú©Û Ú©Û’ Ú©ÙØ§Ø± Ú©Û’ Ø¸Ù„Ù… Ùˆ Ø³ØªÙ… Ú©ÛŒ ÙˆØ¬Û Ø³Û’ Ù…Ø³Ù„Ù…Ø§Ù†ÙˆÚº Ù†Û’ Ù…Ø¯ÛŒÙ†Û Ú©ÛŒ Ø·Ø±Ù ÛØ¬Ø±Øª Ú©ÛŒÛ” Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º Ù†Û’ Ø­Ø¶Ø±Øª Ø§Ø¨ÙˆØ¨Ú©Ø± Ú©Û’ Ø³Ø§ØªÚ¾ ÛØ¬Ø±Øª Ú©ÛŒ Ø§ÙˆØ± Ù…Ø¯ÛŒÙ†Û Ù¾ÛÙ†Ú† Ú©Ø± Ù¾ÛÙ„ÛŒ Ø§Ø³Ù„Ø§Ù…ÛŒ Ø±ÛŒØ§Ø³Øª Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ø±Ú©Ú¾ÛŒÛ”",
                        "Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª": "Ø­Ø¶Ø±Øª Ø§Ø¨ÙˆØ¨Ú©Ø±, Ø§Ù†ØµØ§Ø±, Ù…ÛØ§Ø¬Ø±ÛŒÙ†",
                        "Ù…Ù‚Ø§Ù…": "Ù…Ú©Û Ø³Û’ Ù…Ø¯ÛŒÙ†Û",
                        "Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³": "21.3891,39.8579|24.5247,39.5692",
                        "Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±": "5",
                        "ØªØµÙˆÛŒØ±ÛŒ_Ø­ÙˆØ§Ù„Û": "",
                        "Ù¹ÛŒÚ¯Ø²": "ÛØ¬Ø±Øª, Ù…Ø¯ÛŒÙ†Û, Ø§Ø³Ù„Ø§Ù…ÛŒ Ø±ÛŒØ§Ø³Øª",
                        "Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©": "Ù…Ú©Û Ø³Û’ Ù…Ø¯ÛŒÙ†Û ØªÚ© Ø³ÙØ±|Ø­Ø¶Ø±Øª Ø§Ø¨ÙˆØ¨Ú©Ø± Ú©Ø§ Ø³Ø§ØªÚ¾|ØºØ§Ø± Ø«ÙˆØ± Ù…ÛŒÚº Ú†Ú¾Ù¾Ù†Ø§|Ù…Ø¯ÛŒÙ†Û Ù…ÛŒÚº Ø§Ø³ØªÙ‚Ø¨Ø§Ù„"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 4,
                        "ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª": "ÛŒÛ Ù¾ÛÙ„ÛŒ Ø¨Ú‘ÛŒ Ø¬Ù†Ú¯ ØªÚ¾ÛŒ Ø¬Ø³ Ù…ÛŒÚº Ù…Ø³Ù„Ù…Ø§Ù†ÙˆÚº Ú©ÛŒ ØªØ¹Ø¯Ø§Ø¯ 313 ØªÚ¾ÛŒ Ø¬Ø¨Ú©Û Ú©ÙØ§Ø± Ù…Ú©Û Ú©ÛŒ ØªØ¹Ø¯Ø§Ø¯ 1000 Ú©Û’ Ù‚Ø±ÛŒØ¨ ØªÚ¾ÛŒÛ” Ø§Ù„Ù„Û Ú©Û’ Ø®Ø§Øµ ÙØ¶Ù„ Ø³Û’ Ù…Ø³Ù„Ù…Ø§Ù†ÙˆÚº Ú©Ùˆ ÙØªØ­ Ø­Ø§ØµÙ„ ÛÙˆØ¦ÛŒÛ”",
                        "Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª": "Ø­Ø¶Ø±Øª Ø¹Ù„ÛŒ, Ø­Ø¶Ø±Øª Ø­Ù…Ø²Û, Ø§Ø¨ÙˆØ¬ÛÙ„",
                        "Ù…Ù‚Ø§Ù…": "Ø¨Ø¯Ø±",
                        "Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³": "23.7833,38.7833",
                        "Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±": "4",
                        "ØªØµÙˆÛŒØ±ÛŒ_Ø­ÙˆØ§Ù„Û": "",
                        "Ù¹ÛŒÚ¯Ø²": "ØºØ²ÙˆÛ, Ø¬Ù†Ú¯, ÙØªØ­",
                        "Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©": "313 Ù…Ø³Ù„Ù…Ø§Ù† Ù…Ù‚Ø§Ø¨Ù„ 1000 Ú©ÙØ§Ø±|Ø§Ø¨ÙˆØ¬ÛÙ„ Ú©Ø§ Ù‚ØªÙ„|ÙØ±Ø´ØªÙˆÚº Ú©ÛŒ Ù…Ø¯Ø¯|Ù¾ÛÙ„ÛŒ Ø¨Ú‘ÛŒ ÙØªØ­"
                    },
                    {
                        "Ø´Ù…Ø§Ø±": 5,
                        "ØªÙØµÛŒÙ„ÛŒ ÙˆØ¶Ø§Ø­Øª": "63 Ø³Ø§Ù„ Ú©ÛŒ Ø¹Ù…Ø± Ù…ÛŒÚº Ù¾ÛŒØºÙ…Ø¨Ø± Ø§Ø³Ù„Ø§Ù… ï·º Ù†Û’ ÙˆÙØ§Øª Ù¾Ø§Ø¦ÛŒÛ” Ø¢Ù¾ Ú©ÛŒ ÙˆÙØ§Øª Ø³Û’ Ù¾ÛÙ„Û’ Ø­Ø¬Ûƒ Ø§Ù„ÙˆØ¯Ø§Ø¹ Ú©Û’ Ù…ÙˆÙ‚Ø¹ Ù¾Ø± Ø¢Ù¾ Ù†Û’ Ø§ÛÙ… Ø®Ø·Ø¨Û Ø¯ÛŒØ§ ØªÚ¾Ø§ Ø¬Ùˆ Ø§Ù†Ø³Ø§Ù†ÙˆÚº Ú©Û’ Ø­Ù‚ÙˆÙ‚ Ú©Ø§ Ø§ÙˆÙ„ÛŒÙ† Ú†Ø§Ø±Ù¹Ø± Ø³Ù…Ø¬Ú¾Ø§ Ø¬Ø§ØªØ§ ÛÛ’Û”",
                        "Ù…ØªØ¹Ù„Ù‚Û Ø´Ø®ØµÛŒØ§Øª": "Ø­Ø¶Ø±Øª Ø§Ø¨ÙˆØ¨Ú©Ø±, Ø­Ø¶Ø±Øª Ø¹Ø§Ø¦Ø´Û, Ø­Ø¶Ø±Øª Ø¹Ù„ÛŒ",
                        "Ù…Ù‚Ø§Ù…": "Ù…Ø¯ÛŒÙ†Û Ù…Ù†ÙˆØ±Û",
                        "Ù†Ù‚Ø´Û_Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³": "24.5247,39.5692",
                        "Ø§ÛÙ…ÛŒØª_Ø§Ø³Ú©ÙˆØ±": "5",
                        "ØªØµÙˆÛŒØ±ÛŒ_Ø­ÙˆØ§Ù„Û": "",
                        "Ù¹ÛŒÚ¯Ø²": "ÙˆØµØ§Ù„, Ù…Ø¯ÛŒÙ†Û, Ø­Ø¬Ûƒ Ø§Ù„ÙˆØ¯Ø§Ø¹",
                        "Ú©Ù„ÛŒØ¯ÛŒ_Ù†Ú©Ø§Øª_Ø§Ù†ÙÙˆÚ¯Ø±Ø§ÙÚ©": "63 Ø³Ø§Ù„ Ú©ÛŒ Ø¹Ù…Ø±|Ø­Ø¬Ûƒ Ø§Ù„ÙˆØ¯Ø§Ø¹ Ú©Ø§ Ø®Ø·Ø¨Û|Ø§Ù…Øª Ú©Û’ Ù„ÛŒÛ’ Ø¢Ø®Ø±ÛŒ ÙˆØµÛŒØªÛŒÚº|Ù…Ø¯ÛŒÙ†Û Ù…ÛŒÚº Ø¯ÙÙ†"
                    }
                ];
            } else if (filename === 'historyupdate.csv') {
                return []; // No updates in this example
            }
            return [];
        }
    </script>
</body>
</html>